<!DOCTYPE html>
<html ng-app="myApp">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src='bower_components/angular/Angular.js'></script>
    <script type='text/javascript'>
       var myAppModule = angular.module('myApp', []);
       myAppModule.controller('usersController', function ($scope){
         $scope.users = [];

         $scope.addUser =function(){
           console.log('hi')
           $scope.users.push($scope.newUser);
           $scope.newUser = {};
         }
         $scope.removeUser=function(item){
          // var index = $scope.users.indexof(item)
          console.log("item",item);
          $scope.users.splice(item,1);
         }
       });
       </script>
  </head>
  <body>
  <div ng-controller="usersController">
    <form>
      <p>FirstName: <input type="text" ng-model = "newUser.fname"></p>
      <p>LastName: <input type="text" ng-model= "newUser.lname"></p>
      <p>Favourite Language: <input type="text" ng-model ="newUser.favlang"></p>
      <input type="submit" value="Create User" ng-click = "addUser()">
    </form>
    <table>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Fav Language</th>
          <th>Actions</th>
        </tr>

    <tr ng-repeat= "user in users">

      <td>{{user.fname}}</td>
      <td>{{user.lname}}</td>
      <td>{{user.favlang}}</td>
      <td>{{$index}}</td>
      <td><form><input type="submit"value="Delete" ng-click ="removeUser($index)"></form></td>
    </tr>
  </table>



  </div>

  </body>
</html>
